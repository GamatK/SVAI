* { box-sizing: border-box; }

/* Theme */
:root {
  --bg:#0b1220; --card:#121a2b; --line:#223252; --text:#e7ecf3; --muted:#9fb0cc;
  --action:#4aa3ff; --action-2:#59d38c; --danger:#ff6b6b;
  --card-2:#161c29; --border:#263247; --fg:#e7ecf3;
}
body.light {
  --bg:#f6f7fb; --card:#ffffff; --line:#d9e0ef; --text:#151a26; --muted:#5d6b82;
  --action:#2f6feb; --action-2:#1b8f5a; --card-2:#f6f7fb; --border:#d9e0ef; --fg:#151a26;
}

html,body { height: 100%; }
body {
  margin:0; font-family: system-ui, Arial, sans-serif; background:var(--bg); color:var(--text);
  display:flex; flex-direction:column; overflow-x:hidden;
}

/* Nav */
.nav {
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 16px; border-bottom:1px solid var(--line); background:rgba(0,0,0,.25);
  position:sticky; top:0; backdrop-filter:saturate(150%) blur(6px); z-index: 10;
}
.brand { font-weight:700; letter-spacing:.5px; }
.tabs { display:flex; gap:8px; flex-wrap:wrap; }
.tab {
  background:transparent; color:var(--text); border:1px solid var(--line);
  padding:8px 12px; border-radius:10px; cursor:pointer;
}
.tab.active { background:var(--card); }

/* Layout */
.container { width:min(820px, 94vw); margin:18px auto; display:grid; gap:12px; }
.card { background:var(--card); border:1px solid var(--line); border-radius:14px; padding:14px; margin:8px 0; }
.row { display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
.muted { color:var(--muted); }
.hidden { display:none !important; }
.show { display:block; }

/* Controls */
input, select, button {
  padding:8px 10px; border-radius:10px; border:1px solid var(--line);
  background:#0b1425; color:var(--text);
}
select { background:var(--card); }
button {
  cursor:pointer; font-weight:600; background:var(--action); color:#041226; border:0;
}
button:hover { filter:brightness(1.05); }
button:disabled { opacity:.6; cursor:not-allowed; }

/* Link looking like button */
a.btn {
  display:inline-block; padding:8px 10px; border-radius:10px; border:1px solid var(--line);
  background: var(--action); color:#041226; text-decoration:none; font-weight:600;
}
a.btn:hover { filter: brightness(1.05); }

/* Status + lists */
.status { min-height:24px; margin-top:10px; font-size:.95rem; color:var(--muted); }
.status.error { color: var(--danger); }
.steps { margin-top:8px; padding-left:22px; }

/* Wallet */
.wallet-box {
  border:1px dashed var(--line); border-radius:12px; padding:12px; margin-top:12px;
  display:grid; grid-template-columns:1fr 1fr; gap:6px;
}
.qr {
  margin-top:8px; width:120px; height:120px; display:flex; align-items:center; justify-content:center;
  border:1px solid var(--line); border-radius:8px; font-size:12px; color:var(--muted);
}

/* Footer */
.footer { margin-top:auto; padding:16px; text-align:center; color:var(--muted); border-top:1px solid var(--line); }

/* Doctor Dashboard */
.grid2 { display:grid; grid-template-columns:1fr 1fr; gap:12px; }
@media (max-width:700px){ .grid2{ grid-template-columns:1fr; } }

.kpi {
  background: var(--card); border:1px solid var(--line);
  padding:10px 14px; border-radius:12px; font-weight:600; min-width:110px;
}
.kpi .delta { margin-left:4px; font-size:0.85em; color:var(--muted); }

.badge {
  padding:8px 12px; border:1px solid var(--line); border-radius:999px; font-weight:600; background:var(--card);
}

.table { width:100%; border-collapse:collapse; border:1px solid var(--line); border-radius:10px; overflow:hidden; }
.table th,.table td{ border-bottom:1px solid var(--line); padding:6px 8px; text-align:left; }
.table thead th{ background:linear-gradient(to bottom, #ffffff05, transparent); }

/* Patients flyout */
.panel {
  background: var(--card); border: 1px solid var(--line);
  border-radius: 10px; padding: 10px; margin: 6px 0 10px; max-width: 520px;
}
.list button {
  display:block; width:100%; text-align:left; padding:6px 8px;
  border:1px solid var(--line); background:var(--card); border-radius:8px; margin:4px 0; cursor:pointer;
}
.list button:hover { background: var(--bg); }

/* Compact demo charts */
#chartHr, #chartSpO2, #chartBp, #chartRrTemp {
  height:160px !important;
  max-height:160px !important;
}
canvas {
  background: var(--card);
  border: 1px solid var(--line);
  border-radius: 8px;
  max-height: 240px;
  width: 100% !important;
}

/* Print wallet only */
@media print {
  body * { visibility: hidden; }
  #wallet, #wallet * { visibility: visible; }
  #wallet { position: absolute; inset: 0; margin: 24px; }
  .nav, .tabs, .footer { display: none !important; }
}

/* ---- CivicBot modal (phone-like) ---- */
/* :target trick â€” open with #civicModal in URL */
.modal {
  position: fixed; inset: 0; display: none;
  background: rgba(0,0,0,.5);
  align-items: center; justify-content: center;
  z-index: 1000;
}
.modal:target { display: flex; }

.phone {
  width: 360px; max-width: 92vw; height: 560px; max-height: 90vh;
  background: var(--card);
  color: var(--fg);
  border: 1px solid var(--border);
  border-radius: 20px;
  display: grid; grid-template-rows: auto 1fr auto;
  box-shadow: 0 12px 50px rgba(0,0,0,.35);
}

.phone-header {
  display: flex; align-items: center; justify-content: space-between;
  padding: 10px 12px; border-bottom: 1px solid var(--border);
  background: var(--card-2);
  border-top-left-radius: 20px; border-top-right-radius: 20px;
}
.phone-header .close-x { text-decoration:none; color:inherit; font-size:20px; }

.phone-chat {
  padding: 12px; overflow: auto; display: grid; gap: 8px;
}
.phone-input {
  display: grid; grid-template-columns: 1fr auto; gap: 8px;
  padding: 10px; border-top: 1px solid var(--border);
  background: var(--card-2);
  border-bottom-left-radius: 20px; border-bottom-right-radius: 20px;
}
.phone-input input, .phone-input button {
  border-radius: 10px;
}
.phone-input button { background: var(--action); color: #041226; border: 0; padding: 10px 14px; }

.bot, .me {
  max-width: 85%; padding: 10px 12px; border-radius: 12px;
  font-size: 0.95em; line-height: 1.35;
}
.bot {
  background: var(--card-2); border: 1px solid var(--border);
  justify-self: start;
}
.me {
  background: #2d7cf6; color: #fff;
  justify-self: end;
}

/* Mobile tweaks */
@media (max-width: 520px){
  .row { flex-direction:column; align-items:stretch; }
  button, input, select, a.btn { width:100%; }
}
